import{d as q,u as k,a as M,r as f,c as x,b as P,w as N,o as g,e as h,f as s,g as w,t as b,h as r,i as j,j as d,T as c,P as _,k as V,v as y,_ as A,l as F,m as i,n as u,p as I,s as B,q as C,x as D,y as E,U as L}from"./index.f67d2128.js";const O={class:"bg-gray-100 md:bg-white mobile:min-h-screen flex flex-col md:h-auto md:justify-center font-WorkSans"},R={key:0,class:"text-base md:text-xl max-w-[550px] leading-tight font-bold flex justify-center border border-gray-100 my-8 p-3 text-center rounded-md mx-auto px-2 shadow-lg shadow-gray w-11/12 px-4 bg-white md:w-5/12","data-test":"sign-up-error"},T=["onSubmit"],z={class:"text-center text-2xl font-semibold md:text-4xl mt-5"},Z={class:"flex gap-x-4 w-full"},J={class:"flex gap-x-12"},W={for:"sex",class:"text-base text-gray-500 flex items-center gap-x-2"},G=w("Male "),H=["value"],K={for:"sex",class:"text-base text-gray-500 flex items-center gap-x-2"},Q=w("Female "),X=["value"],ae=q({name:"SignUpPage",setup(Y){const{t:l}=k({useScope:"global",inheritLocale:!0}),v=M(),e=f({email:"",password:"",firstname:"",confirmPassword:"",lastname:"",gender:""}),U=n=>/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]/.test(n),S=x(()=>({password:{required:i.withMessage("your password is required here",u),minLength:I(8),passwordValidator:i.withMessage("your password should have at least one letter and one number",U)},confirmPassword:{sameAs:i.withMessage("your confirmation password should be the same with the one above",B(e.password))},firstname:{required:i.withMessage("your firstname is required here",u)},lastname:{required:i.withMessage("your lastname is required here",u)},email:{required:i.withMessage("your email is required here",u),email:C}})),m=f({}),o=P(S,e,{$externalResults:m}),p=x(()=>D().error),$=async()=>{if(await o.value.$validate()){const a=await E().createUser(new L({email:e.email,password:e.confirmPassword,lastName:e.lastname,firstName:e.firstname,gender:e.gender}));if(p.value.email){Object.assign(m,{email:l(p.value.email)});return}a&&(localStorage.setItem("token",JSON.stringify(a)),await v.push("/home"))}};return N(()=>e.email,n=>{n&&m.email&&Object.assign(m,{email:""})}),(n,a)=>(g(),h("div",O,[s(p).email?(g(),h("div",R,[w(b(s(l)("sign-up.description_lbl"))+" ",1),r("span",{onClick:a[0]||(a[0]=t=>n.$router.push("/")),class:"pb-1 cursor-pointer px-2 text-blue-200 underline text-base md:text-xl"},b(s(l)("login_lbl")),1)])):j("",!0),r("form",{class:"px-4 w-full flex flex-col mx-auto md:px-8 md:border md:border-white-200 md:shadow-lg md:shadow-gray-500 md:rounded-md md:w-[450px] gap-y-3",onSubmit:F($,["prevent"])},[r("h1",z,b(s(l)("sign-up.title_lbl")),1),d(c,{label:s(l)("label.email_lbl"),placeholder:"Ex holidayexample@gmail.com",modelValue:e.email,"onUpdate:modelValue":a[1]||(a[1]=t=>e.email=t),errors:s(o).email.$errors,"data-test":"email-input"},null,8,["label","modelValue","errors"]),d(_,{label:s(l)("label.password_lbl"),modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=t=>e.password=t),errors:s(o).password.$errors,class:"w-full","data-test":"password-input-1"},null,8,["label","modelValue","errors"]),d(_,{label:s(l)("label.password_2_lbl"),modelValue:e.confirmPassword,"onUpdate:modelValue":a[3]||(a[3]=t=>e.confirmPassword=t),errors:s(o).confirmPassword.$errors,class:"w-full","data-test":"password-confirmation-input"},null,8,["label","modelValue","errors"]),r("div",Z,[d(c,{class:"w-1/2",modelValue:e.firstname,"onUpdate:modelValue":a[4]||(a[4]=t=>e.firstname=t),placeholder:s(l)("label.firstname_lbl"),label:s(l)("label.firstname_lbl"),errors:s(o).firstname.$errors,"data-test":"user-firstname"},null,8,["modelValue","placeholder","label","errors"]),d(c,{class:"w-1/2",modelValue:e.lastname,"onUpdate:modelValue":a[5]||(a[5]=t=>e.lastname=t),placeholder:s(l)("label.lastname_lbl"),label:s(l)("label.lastname_lbl"),errors:s(o).lastname.$errors,"data-test":"user-lastname"},null,8,["modelValue","placeholder","label","errors"])]),r("div",J,[r("label",W,[G,V(r("input",{"data-test":"male",type:"radio",class:"w-4 h-4",value:s(l)("gender.male_lbl"),"onUpdate:modelValue":a[6]||(a[6]=t=>e.gender=t)},null,8,H),[[y,e.gender]])]),r("label",K,[Q,V(r("input",{"data-test":"female",type:"radio",value:s(l)("gender.female_lbl"),class:"w-4 h-4 accent-pink-500","onUpdate:modelValue":a[7]||(a[7]=t=>e.gender=t)},null,8,X),[[y,e.gender]])])]),d(A,{label:s(l)("label.create_btn"),class:"text-base text-white bg-blue-800 w-full h-10 font-bold rounded-md shadow-lg shadow-blue-400 flex hover:shadow-2xl ease-in-out duration-1000 mx-auto my-2","data-test":"submit-button"},null,8,["label"])],40,T)]))}});export{ae as default};
