import{d as k,o as a,e as n,f as l,y as v,z as w,A as $,g as m,B as C,C as f,D as I,E as T,G as E,r as b,c as S,H as L,h as u,I as N,x as B,u as U,J as j,a as Y,b as R,K as z,L as A,M as H,N as W,j as K,_ as G,l as D,m as _,O as F}from"./index.0135b1de.js";import{d as x}from"./dayjs.min.16be2667.js";const J={class:"flex flex-col gap-y-1 font-WorkSans"},P=l("label",{for:"description",class:"text-gray-300 text-base"}," Description ",-1),Q=k({name:"DescriptionArea",props:{modelValue:{type:String,require:!0},errors:{type:Array,default:()=>[]}},setup(t){return(c,d)=>{var e;return a(),n("div",J,[P,l("textarea",{onInput:d[0]||(d[0]=i=>c.$emit("update:modelValue",i.target.value)),placeholder:"Veuillez saisir votre description...",class:v(["outline-none w-full text-lg border border-gray-200 h-28 px-3 pt-3 my-1 rounded-md placeholder:text-gray",t.errors.length>0?"border-red-900 focus:shadow-red":"border-gray focus:border-gray focus:shadow-gray"])},null,34),(e=t.errors)!=null&&e.length?(a(!0),n(w,{key:0},$(t.errors,i=>(a(),n("div",{key:i.$uid},[m(C,{message:i.$message},null,8,["message"])]))),128)):f("",!0)])}}}),X={class:"flex flex-col gap-y-1 text-base font-WorkSans"},Z={for:"date",class:"text-gray-800"},ee=["value","readonly"],O=k({name:"DateInput",props:{labelValues:{type:String,require:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,require:!1},errors:{type:Array,default:[]}},setup(t){return(c,d)=>(a(),n("div",X,[l("label",Z,I(t.labelValues),1),l("div",null,[l("input",{type:"date",class:v(["outline-none my-1 h-12 px-3 border border-gray-200 bg-gray-100 rounded-md w-full",t.errors.length>0?"border-red-900 focus:shadow-red":"border-gray focus:border-gray focus:shadow-gray"]),placeholder:"Date",value:t.modelValue,onInput:d[0]||(d[0]=e=>c.$emit("update:modelValue",e.target.value)),readonly:t.readonly},null,42,ee),(a(!0),n(w,null,$(t.errors,e=>(a(),n("div",{key:e.$uid},[m(C,{message:e.$message},null,8,["message"])]))),128))])]))}}),te={class:"flex flex-col gap-y-1 font-WorkSans text-base"},re=l("label",{for:"number",class:"text-gray-800"}," Number of days ",-1),se=["value"],ae=k({name:"NumberInput",props:{modelValue:{type:String,require:!0},errors:{type:Array,default:()=>[]}},setup(t){return(c,d)=>(a(),n("div",te,[re,l("input",{type:"number",class:v(["outline-none my-1 h-12 pl-4 text-black-400 border border-gray-200 bg-gray-100 rounded-md",t.errors.length>0?"border-red-900 focus:shadow-red":"border-gray focus:border-gray focus:shadow-gray"]),placeholder:"Ex.18",min:"1",value:t.modelValue,onInput:d[0]||(d[0]=e=>c.$emit("update:modelValue",e.target.value)),readonly:""},null,42,se),t.errors.length?(a(!0),n(w,{key:0},$(t.errors,e=>(a(),n("div",{key:e.$uid},[m(C,{message:e.$message},null,8,["message"])]))),128)):f("",!0)]))}}),le=(t,c)=>{if(!t)return;const d=e=>{e.target!==t.value&&e.composedPath().includes(t.value)||c()};return T(()=>{window.addEventListener("click",d)}),E(()=>{window.removeEventListener("click",d)}),{listener:d}},oe={class:"text-black text-base flex gap-0.5 items-center mb-2"},ne=["data-test"],de=["data-test"],ue=["data-test","placeholder","value"],ie={key:0,"data-test":"options",class:"w-full inset-x-0 z-50 absolute p-4 rounded-md border border-gray-100 shadow-[0px_4px_16px_4px_rgba(0,0,0,0.07)] bg-white mt-2 mb-8 space-y-2"},ce=["data-test","tabindex","onClick"],me={key:0,class:"text-center py-2"},ye={key:1,class:"flex gap-x-2 my-2 items-center"},ge=k({name:"SelectOption",props:{options:{type:Array,required:!0},label:{type:String,required:!0},modelValue:{type:Object,required:!0},errors:{type:Object,default:[]},placeholder:{type:String,required:!0}},emits:["update:modelValue"],setup(t,{emit:c}){const d=t,e=b(!1),i=b(""),y=b(""),h=o=>{i.value="",y.value=o.value,c("update:modelValue",o),e.value=!1},p=S(()=>i.value?d.options.filter(o=>o.value.toLowerCase().replace(/\s+/g,"").includes(i.value.toLowerCase().replace(/\s+/g,""))):d.options),q=o=>{i.value=y.value=o.target.value},g=()=>{e.value=!e.value},V=b();return le(V,()=>{e.value=!1}),(o,r)=>(a(),n("section",{class:"relative",ref_key:"dropDown",ref:V},[l("section",oe,[l("label",{class:"text-black text-base","data-test":`label-${t.label}`},I(t.label),9,ne),L(o.$slots,"rightSide")]),l("div",{class:"relative w-full","data-test":`${t.label}-dropdown`},[l("input",{"data-test":`input-${t.label}`,class:v(["placeholder:capitalize placeholder:text-gray-100 outline-none cursor-pointer border bg-white rounded pl-4 py-1.5 w-full h-12 pr-10 placeholder:text-gray-200",{"border-gray shadow-blue focus:border-blue-500 focus:shadow-blue":t.errors.length===0&&e.value,"border-red-900 shadow-red focus:border-red-900 focus:shadow-red":t.errors.length>0&&e.value,"border-red-900":t.errors.length>0}]),type:"text",placeholder:t.placeholder,value:y.value,onInput:q,onKeyup:r[0]||(r[0]=s=>e.value=!0),onFocus:g,autocomplete:"off"},null,42,ue)],8,de),e.value?(a(),n("section",ie,[(a(!0),n(w,null,$(u(p),(s,M)=>(a(),n("div",{"data-test":`option-${s.value}`,tabindex:M,key:M,onClick:Oe=>h(s),class:v(["w-full p-2 font-outfit text-black font-medium cursor-pointer",y.value===s.value?"text-blue-100 bg-sky-300 rounded-md shadow":"hover:bg-sky-100 hover:rounded-md hover:shadow"])},I(s.value),11,ce))),128)),u(p).length===0?(a(),n("div",me," Nothing Found ")):f("",!0)])):f("",!0),t.errors.length?(a(),n("div",ye,[(a(!0),n(w,null,$(t.errors,s=>(a(),N(C,{key:s.$uid,"data-test":`${t.label}-error`,message:s.$message},null,8,["data-test","message"]))),128))])):f("",!0)],512))}}),fe=[{key:"Annaul",value:"ANNAUL"},{key:"Martenite",value:"MARTENITE"},{key:"Adventure",value:"ADVENTURE"},{key:"Cycling",value:"CYCLING"},{key:"Family",value:"FAMILY"},{key:"City-Breaks",value:"CITY BREAKS"}],pe={},he={version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50","xml:space":"preserve"},be=l("circle",{style:{fill:"#25AE88"},cx:"25",cy:"25",r:"25"},null,-1),ve=l("polyline",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10"},points:`
	38,15 22,33 12,25 `},null,-1),xe=[be,ve];function we(t,c){return a(),n("svg",he,xe)}var $e=B(pe,[["render",we]]);const ke={key:0,class:"bg-gray-100 h-screen flex md:bg-gray-100"},Ve={class:"px-4 pt-4 max-w-[900px] md:m-auto md:bg-white md:rounded-lg md:px-16 relative"},De=l("div",{class:"font-WorkSans flex flex-col items-center md:pt-2 md:pb-4"},[l("h1",{class:"text-gray-800 font-semibold text-3xl md:text-5xl"}," Create holiday "),l("span",{class:"text-gray text-base md:text-lg"}," Lorem ipsum dolor sit amet, consectetur . ")],-1),_e={class:"flex flex-wrap gap-x-10 gap-y-3"},Se={key:0,class:"text-red-900 font-normal font-outfit text-sm"},Ce={class:"border border-sky-200 leading-tight bg-white text-center fixed text-black font-bold h-28 rounded px-8 flex flex-col items-center justify-center w-11/12 md:w-fit"},qe=l("span",null,"Your Holidays has been successfully created ",-1),Ae=k({name:"CreateHolidayForm",props:{show:{type:Boolean,default:!0}},emits:["closeModal"],setup(t,{emit:c}){const d=U();T(()=>{var o;(o=document.querySelector("body"))==null||o.classList.add("overflow-hidden")}),j(()=>{var o,r;(o=document.querySelector("body"))==null||o.classList.remove("overflow-hidden"),(r=document.querySelector("body"))==null||r.classList.add("overflow-auto")});const e=Y({starting:"",type:{},ending:"",numberOfDays:"",returnDate:"",description:"",creationDate:""}),i=b(!1),y=S(()=>((x(e.ending).valueOf()-x(e.starting).valueOf())/864e5).toString()),h=S(()=>x(e.ending).add(1,"day").format("YYYY-MM-DD")),p=b(!1),q=S(()=>({starting:{required:D.withMessage("The starting date is required",_)},ending:{required:D.withMessage("The ending date is required",_)},type:{required:D.withMessage("The holiday type is required here",_)},description:{required:D.withMessage("The holiday description is required here",_)}})),g=R(q,e),V=async()=>{await g.value.$validate()&&!i.value&&(F.value.push({type:e.type,starting:e.starting,ending:e.ending,description:e.description,numberOfDays:y.value,returnDate:h.value,creationDate:`${x().hour()}h${x().minute()}`}),localStorage.setItem("allHolidays",JSON.stringify(F.value)),p.value=!0,setTimeout(()=>{p.value=!1,Object.assign(e,{type:{},starting:"",ending:"",description:"",numberOfDays:"",returnDate:""}),g.value.$reset(),c("closeModal"),d.push("/holiday-list")},2e3))};return z(()=>[e.starting,e.ending],([o,r])=>{i.value=o>r&&r.length>0}),(o,r)=>t.show?(a(),n("div",ke,[l("form",Ve,[l("span",{class:"flex p-2.5 h-3 w-3 rounded-full border-2 border-gray justify-center items-center font-bold text-gray absolute right-4 cursor-pointer",onClick:r[0]||(r[0]=s=>o.$emit("closeModal"))},"x"),De,l("div",_e,[m(ge,{placeholder:"Choose your holiday Type",modelValue:u(e).type,"onUpdate:modelValue":r[1]||(r[1]=s=>u(e).type=s),label:"Type",options:u(fe),errors:u(g).type.$errors,class:"w-full md:w-8/12"},null,8,["modelValue","options","errors"]),m(O,{class:"w-5/12 grow md:w-3/12",labelValues:"Starting date",modelValue:u(e).starting,"onUpdate:modelValue":r[2]||(r[2]=s=>u(e).starting=s),errors:u(g).starting.$errors,"data-test":"starting-date"},null,8,["modelValue","errors"]),m(O,{class:"w-5/12 grow md:w-3/12",labelValues:"Ending date",modelValue:u(e).ending,"onUpdate:modelValue":r[3]||(r[3]=s=>u(e).ending=s),errors:u(g).ending.$errors,"data-test":"ending-date"},null,8,["modelValue","errors"]),i.value?(a(),n("span",Se,"The Ending Date most always be greater")):f("",!0),m(ae,{class:"w-5/12 grow md:w-3/12",modelValue:u(y),"onUpdate:modelValue":r[4]||(r[4]=s=>A(y)?y.value=s:null),"data-test":"numDays"},null,8,["modelValue"]),m(O,{class:"w-5/12 grow md:w-3/12",labelValues:"Return date",readonly:!0,modelValue:u(h),"onUpdate:modelValue":r[5]||(r[5]=s=>A(h)?h.value=s:null),"data-test":"return-date"},null,8,["modelValue"])]),m(Q,{class:"my-2 md:my-3",modelValue:u(e).description,"onUpdate:modelValue":r[6]||(r[6]=s=>u(e).description=s),errors:u(g).description.$errors},null,8,["modelValue","errors"]),m(G,{onClick:K(V,["prevent"]),label:"SUBMIT",class:"bg-blue-100 my-6 h-12 mx-auto text-white font-bold rounded-md flex text-lg md:text-xl md:my-14","data-test":"submit-button"},null,8,["onClick"])]),m(W,null,{default:H(()=>[p.value?(a(),n("section",{key:0,class:v(["absolute w-full h-screen flex items-center justify-center bg-sky-100 bg-opacity-80 overscroll-none",p.value?"on":"off"])},[l("div",Ce,[qe,m($e,{class:"w-8 h-8"})])],2)):f("",!0)]),_:1})])):f("",!0)}});export{Ae as default};
