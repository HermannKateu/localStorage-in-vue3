var M=Object.defineProperty,N=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var w=(t,e,s)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,_=(t,e)=>{for(var s in e||(e={}))F.call(e,s)&&w(t,s,e[s]);if($)for(var s of $(e))P.call(e,s)&&w(t,s,e[s]);return t},H=(t,e)=>N(t,I(e));var d=(t,e,s)=>(w(t,typeof e!="symbol"?e+"":e,s),s);import{d as C}from"./dayjs.min.16be2667.js";import{N as k,O as D,Q as A,d as j,o as y,e as b,h as u,t as p,f as g,H as E,R as U,S as W,a as L,A as V,u as G,V as z,W as K,j as O,K as Q,_ as J,F as X,C as Y}from"./index.5aa1e923.js";import{N as Z}from"./NoHoliday.11c98352.js";class v extends Error{constructor(s,a,r){super(r);d(this,"url");d(this,"status");d(this,"statusText");d(this,"body");d(this,"request");this.name="ApiError",this.url=a.url,this.status=a.status,this.statusText=a.statusText,this.body=a.body,this.request=s}}class ee extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}}var Ae;class te{constructor(e){d(this,Ae);d(this,"_isResolved");d(this,"_isRejected");d(this,"_isCancelled");d(this,"_cancelHandlers");d(this,"_promise");d(this,"_resolve");d(this,"_reject");this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((s,a)=>{this._resolve=s,this._reject=a;const r=c=>{var i;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(i=this._resolve)==null||i.call(this,c))},n=c=>{var i;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(i=this._reject)==null||i.call(this,c))},o=c=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(c)};return Object.defineProperty(o,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(o,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(o,"isCancelled",{get:()=>this._isCancelled}),e(r,n,o)})}then(e,s){return this._promise.then(e,s)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const s of this._cancelHandlers)s()}catch(s){console.warn("Cancellation threw an error",s);return}this._cancelHandlers.length=0,(e=this._reject)==null||e.call(this,new ee("Request aborted"))}}get isCancelled(){return this._isCancelled}}Ae=Symbol.toStringTag;const S=t=>t!=null,x=t=>typeof t=="string",R=t=>x(t)&&t!=="",q=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),se=t=>t instanceof k,re=t=>t>=200&&t<300,ae=t=>{try{return btoa(t)}catch{return Buffer.from(t).toString("base64")}},ne=t=>{const e=[],s=(r,n)=>{e.push(`${encodeURIComponent(r)}=${encodeURIComponent(String(n))}`)},a=(r,n)=>{S(n)&&(Array.isArray(n)?n.forEach(o=>{a(r,o)}):typeof n=="object"?Object.entries(n).forEach(([o,c])=>{a(`${r}[${o}]`,c)}):s(r,n))};return Object.entries(t).forEach(([r,n])=>{a(r,n)}),e.length>0?`?${e.join("&")}`:""},oe=(t,e)=>{const s=t.ENCODE_PATH||encodeURI,a=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(n,o)=>{var c;return(c=e.path)!=null&&c.hasOwnProperty(o)?s(String(e.path[o])):n}),r=`${t.BASE}${a}`;return e.query?`${r}${ne(e.query)}`:r},ie=t=>{if(t.formData){const e=new k,s=(a,r)=>{x(r)||q(r)?e.append(a,r):e.append(a,JSON.stringify(r))};return Object.entries(t.formData).filter(([a,r])=>S(r)).forEach(([a,r])=>{Array.isArray(r)?r.forEach(n=>s(a,n)):s(a,r)}),e}},m=async(t,e)=>typeof e=="function"?e(t):e,ce=async(t,e,s)=>{const a=await m(e,t.TOKEN),r=await m(e,t.USERNAME),n=await m(e,t.PASSWORD),o=await m(e,t.HEADERS),c=typeof(s==null?void 0:s.getHeaders)=="function"&&(s==null?void 0:s.getHeaders())||{},i=Object.entries(_(_(_({Accept:"application/json"},o),e.headers),c)).filter(([l,h])=>S(h)).reduce((l,[h,f])=>H(_({},l),{[h]:String(f)}),{});if(R(a)&&(i.Authorization=`Bearer ${a}`),R(r)&&R(n)){const l=ae(`${r}:${n}`);i.Authorization=`Basic ${l}`}return e.body&&(e.mediaType?i["Content-Type"]=e.mediaType:q(e.body)?i["Content-Type"]=e.body.type||"application/octet-stream":x(e.body)?i["Content-Type"]="text/plain":se(e.body)||(i["Content-Type"]="application/json")),i},le=t=>{if(t.body)return t.body},de=async(t,e,s,a,r,n,o)=>{const c=D.CancelToken.source(),i={url:s,headers:n,data:a!=null?a:r,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:c.token};o(()=>c.cancel("The user aborted a request."));try{return await D.request(i)}catch(l){const h=l;if(h.response)return h.response;throw l}},he=(t,e)=>{if(e){const s=t.headers[e];if(x(s))return s}},ue=t=>{if(t.status!==204)return t.data},ye=(t,e)=>{const a=_({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},t.errors)[e.status];if(a)throw new v(t,e,a);if(!e.ok)throw new v(t,e,"Generic Error")},B=(t,e)=>new te(async(s,a,r)=>{try{const n=oe(t,e),o=ie(e),c=le(e),i=await ce(t,e,o);if(!r.isCancelled){const l=await de(t,e,n,c,o,i,r),h=ue(l),f=he(l,e.responseHeader),T={url:n,ok:re(l.status),status:l.status,statusText:l.statusText,body:f!=null?f:h};ye(e,T),s(T.body)}}catch(n){a(n)}});class fe{static getAllHolidays({fieldsToExtractCode:e}){return B(A,{method:"GET",url:"/holidays",query:{fieldsToExtractCode:e}})}static getHolidayById({id:e,fieldsToExtractCode:s}){return B(A,{method:"GET",url:"/holidays/{id}",path:{id:e},query:{fieldsToExtractCode:s}})}}const _e={class:"bg-gray-400 p-5 border border-gray-200 rounded-lg font-WorkSans w-full flex flex-col gap-y-4 shadow-[#D1E4FA] shadow-lg"},pe={class:"flex flex-row justify-between text-gray text-sm font-medium"},ge={"data-test":"starting-date"},me={"data-test":"time"},be={class:"text-blue-100 font-bold text-xl","data-test":"date"},xe={class:"text-gray-700 text-sm leading-tight flex w-full break-all","data-test":"description"},we={class:"text-blue-100 text-sm font-semibold bg-gray-600 rounded-xl py-1 w-20",type:"submit","data-test":"type"},Ce=j({name:"HolidaysCard",props:{holiday:{type:Object,default:()=>({})}},setup(t){return(e,s)=>(y(),b("div",_e,[u("div",pe,[u("span",ge,p(g(C)(t.holiday.creationDate).format("MMMM, D")),1),u("span",me,p(t.holiday.creationDate),1)]),u("div",be,p(`${g(C)(t.holiday.startingDate).format("MMMM, D")} - ${g(C)(t.holiday.endingDate).format("MMMM, D")}`),1),u("span",xe,p(t.holiday.description),1),u("button",we,p(t.holiday.type),1)]))}}),Re=j({name:"BlankWrapper",setup(t){return(e,s)=>(y(),E(Z,{class:"w-full h-[300px]"}))}});class Ee{constructor(e){d(this,"isNull",!0);this.holiday=e,this.isNull=!1}get id(){return this.holiday.id?this.holiday.id:0}get startingDate(){return this.holiday.startingDate?this.holiday.startingDate:""}get endingDate(){return this.holiday.endingDate?this.holiday.endingDate:""}get returnDate(){return this.holiday.returnDate?this.holiday.returnDate:""}get numberOfDays(){return this.holiday.numberOfDays?this.holiday.numberOfDays:0}get description(){return this.holiday.description?this.holiday.description:""}get creationDate(){return this.holiday.createdAt?this.holiday.createdAt:""}get type(){return this.holiday.type?this.holiday.type:""}}const je=U({id:"holiday",actions:{async getAllHolidays(){let t=[];try{t=await fe.getAllHolidays({fieldsToExtractCode:W.CODE_2})}catch(e){console.log(e)}return t.map(e=>new Ee(e))}}}),Se={class:"bg-white px-4 bg-clip-border flex flex-col font-WorkSans py-20 gap-y-12 py-20 md:max-w-[768px] bg-cover md:bg-white object-center md:mx-auto lg:max-w-[1649px]"},Te={class:"flex justify-between relative"},$e={class:"text-gray-800 font-semibold text-3xl"},He=u("span",{class:"text-gray-50 font-medium text-5xl block md:hidden absolute right-0 -top-2","data-test":"holiday-form"},"+",-1),De={key:1,class:"flex gap-y-5 flex-col md:flex-row md:flex-wrap md:gap-x-5 w-full"},qe=j({name:"HolidayList",setup(t){const e=L(),s=V([]),{t:a}=G({useScope:"global",inheritLocale:!0});z(async()=>{s.value=await je().getAllHolidays()});const r=async n=>{await e.push(`/holiday-item/${n}`)};return(n,o)=>{var i;const c=K("router-link");return y(),b("div",Se,[u("div",Te,[u("h1",$e,p(g(a)("welcome.label_list")),1),O(c,{to:"/create-holiday"},{default:Q(()=>[He]),_:1}),O(J,{onClick:o[0]||(o[0]=l=>n.$router.push("/create-holiday")),label:g(a)("welcome.label_create"),class:"bg-blue-100 hidden h-14 text-lg w-60 text-white rounded-md py-4 md:block","data-test":"holiday-form"},null,8,["label"])]),((i=s.value)==null?void 0:i.length)===0?(y(),E(Re,{key:0})):(y(),b("div",De,[(y(!0),b(X,null,Y(s.value,(l,h)=>(y(),E(Ce,{holiday:l,class:"max-w-[385px] grow cursor-pointer hover:shadow-sm hover:transition hover:duration-300","data-test":"holiday-card",key:h,onClick:f=>r(h)},null,8,["holiday","onClick"]))),128))]))])}}});export{qe as default};
