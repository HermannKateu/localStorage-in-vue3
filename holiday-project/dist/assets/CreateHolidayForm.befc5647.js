import{d as k,o as a,e as o,f as s,y as v,z as w,A as $,g as m,B as S,C as p,D as M,E as T,G as E,r as b,c as C,H as N,h as d,I as B,x as L,u as U,a as j,b as Y,J as R,K as A,L as z,M as H,j as W,_ as K,l as D,m as _,N as F}from"./index.e47911a6.js";import{d as x}from"./dayjs.min.16be2667.js";const G={class:"flex flex-col gap-y-1 font-WorkSans"},J=s("label",{for:"description",class:"text-gray-300 text-base"}," Description ",-1),P=k({name:"DescriptionArea",props:{modelValue:{type:String,require:!0},errors:{type:Array,default:()=>[]}},setup(t){return(c,n)=>{var e;return a(),o("div",G,[J,s("textarea",{onInput:n[0]||(n[0]=i=>c.$emit("update:modelValue",i.target.value)),placeholder:"Veuillez saisir votre description...",class:v(["outline-none w-full text-lg border border-gray-200 h-28 px-3 pt-3 my-1 rounded-md placeholder:text-gray",t.errors.length>0?"border-red-900 focus:shadow-red":"border-gray focus:border-gray focus:shadow-gray"])},null,34),(e=t.errors)!=null&&e.length?(a(!0),o(w,{key:0},$(t.errors,i=>(a(),o("div",{key:i.$uid},[m(S,{message:i.$message},null,8,["message"])]))),128)):p("",!0)])}}}),Q={class:"flex flex-col gap-y-1 text-base font-WorkSans"},X={for:"date",class:"text-gray-800"},Z=["value","readonly"],I=k({name:"DateInput",props:{labelValues:{type:String,require:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,require:!1},errors:{type:Array,default:[]}},setup(t){return(c,n)=>(a(),o("div",Q,[s("label",X,M(t.labelValues),1),s("div",null,[s("input",{type:"date",class:v(["outline-none my-1 h-12 px-3 border border-gray-200 bg-gray-100 rounded-md w-full",t.errors.length>0?"border-red-900 focus:shadow-red":"border-gray focus:border-gray focus:shadow-gray"]),placeholder:"Date",value:t.modelValue,onInput:n[0]||(n[0]=e=>c.$emit("update:modelValue",e.target.value)),readonly:t.readonly},null,42,Z),(a(!0),o(w,null,$(t.errors,e=>(a(),o("div",{key:e.$uid},[m(S,{message:e.$message},null,8,["message"])]))),128))])]))}}),ee={class:"flex flex-col gap-y-1 font-WorkSans text-base"},te=s("label",{for:"number",class:"text-gray-800"}," Number of days ",-1),re=["value"],ae=k({name:"NumberInput",props:{modelValue:{type:String,require:!0},errors:{type:Array,default:()=>[]}},setup(t){return(c,n)=>(a(),o("div",ee,[te,s("input",{type:"number",class:v(["outline-none my-1 h-12 pl-4 text-black-400 border border-gray-200 bg-gray-100 rounded-md",t.errors.length>0?"border-red-900 focus:shadow-red":"border-gray focus:border-gray focus:shadow-gray"]),placeholder:"Ex.18",min:"1",value:t.modelValue,onInput:n[0]||(n[0]=e=>c.$emit("update:modelValue",e.target.value)),readonly:""},null,42,re),t.errors.length?(a(!0),o(w,{key:0},$(t.errors,e=>(a(),o("div",{key:e.$uid},[m(S,{message:e.$message},null,8,["message"])]))),128)):p("",!0)]))}}),se=(t,c)=>{if(!t)return;const n=e=>{e.target!==t.value&&e.composedPath().includes(t.value)||c()};return T(()=>{window.addEventListener("click",n)}),E(()=>{window.removeEventListener("click",n)}),{listener:n}},le={class:"text-black text-base flex gap-0.5 items-center mb-2"},oe=["data-test"],ne=["data-test"],de=["data-test","placeholder","value"],ue={key:0,"data-test":"options",class:"w-full inset-x-0 z-50 absolute p-4 rounded-md border border-gray-100 shadow-[0px_4px_16px_4px_rgba(0,0,0,0.07)] bg-white mt-2 mb-8 space-y-2"},ie=["data-test","tabindex","onClick"],ce={key:0,class:"text-center py-2"},me={key:1,class:"flex gap-x-2 my-2 items-center"},ye=k({name:"SelectOption",props:{options:{type:Array,required:!0},label:{type:String,required:!0},modelValue:{type:Object,required:!0},errors:{type:Object,default:[]},placeholder:{type:String,required:!0}},emits:["update:modelValue"],setup(t,{emit:c}){const n=t,e=b(!1),i=b(""),y=b(""),h=u=>{i.value="",y.value=u.value,c("update:modelValue",u),e.value=!1},f=C(()=>i.value?n.options.filter(u=>u.value.toLowerCase().replace(/\s+/g,"").includes(i.value.toLowerCase().replace(/\s+/g,""))):n.options),q=u=>{i.value=y.value=u.target.value},g=()=>{e.value=!e.value},V=b();return se(V,()=>{e.value=!1}),(u,l)=>(a(),o("section",{class:"relative",ref_key:"dropDown",ref:V},[s("section",le,[s("label",{class:"text-black text-base","data-test":`label-${t.label}`},M(t.label),9,oe),N(u.$slots,"rightSide")]),s("div",{class:"relative w-full","data-test":`${t.label}-dropdown`},[s("input",{"data-test":`input-${t.label}`,class:v(["placeholder:capitalize placeholder:text-gray-100 outline-none cursor-pointer border bg-white rounded pl-4 py-1.5 w-full h-12 pr-10 placeholder:text-gray-200",{"border-gray shadow-blue focus:border-blue-500 focus:shadow-blue":t.errors.length===0&&e.value,"border-red-900 shadow-red focus:border-red-900 focus:shadow-red":t.errors.length>0&&e.value,"border-red-900":t.errors.length>0}]),type:"text",placeholder:t.placeholder,value:y.value,onInput:q,onKeyup:l[0]||(l[0]=r=>e.value=!0),onFocus:g,autocomplete:"off"},null,42,de)],8,ne),e.value?(a(),o("section",ue,[(a(!0),o(w,null,$(d(f),(r,O)=>(a(),o("div",{"data-test":`option-${r.value}`,tabindex:O,key:O,onClick:qe=>h(r),class:v(["w-full p-2 font-outfit text-black font-medium cursor-pointer",y.value===r.value?"text-blue-100 bg-sky-300 rounded-md shadow":"hover:bg-sky-100 hover:rounded-md hover:shadow"])},M(r.value),11,ie))),128)),d(f).length===0?(a(),o("div",ce," Nothing Found ")):p("",!0)])):p("",!0),t.errors.length?(a(),o("div",me,[(a(!0),o(w,null,$(t.errors,r=>(a(),B(S,{key:r.$uid,"data-test":`${t.label}-error`,message:r.$message},null,8,["data-test","message"]))),128))])):p("",!0)],512))}}),ge=[{key:"Annaul",value:"ANNAUL"},{key:"Martenite",value:"MARTENITE"},{key:"Adventure",value:"ADVENTURE"},{key:"Cycling",value:"CYCLING"},{key:"Family",value:"FAMILY"},{key:"City-Breaks",value:"CITY BREAKS"}],pe={},fe={version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50","xml:space":"preserve"},he=s("circle",{style:{fill:"#25AE88"},cx:"25",cy:"25",r:"25"},null,-1),be=s("polyline",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10"},points:`
	38,15 22,33 12,25 `},null,-1),ve=[he,be];function xe(t,c){return a(),o("svg",fe,ve)}var we=L(pe,[["render",xe]]);const $e={key:0,class:"bg-gray-100 h-screen flex md:bg-gray-100"},ke={class:"px-4 pt-4 max-w-[900px] md:m-auto md:bg-white md:rounded-lg md:px-16 relative"},Ve=s("div",{class:"font-WorkSans flex flex-col items-center md:pt-2 md:pb-4"},[s("h1",{class:"text-gray-800 font-semibold text-3xl md:text-5xl"}," Create holiday "),s("span",{class:"text-gray text-base md:text-lg"}," Lorem ipsum dolor sit amet, consectetur . ")],-1),De={class:"flex flex-wrap gap-x-10 gap-y-3"},_e={key:0,class:"text-red-900 font-normal font-outfit text-sm"},Ce={class:"border border-sky-200 leading-tight bg-white text-center fixed text-black font-bold h-28 rounded px-8 flex flex-col items-center justify-center w-11/12 md:w-fit"},Se=s("span",null,"Your Holidays has been successfully created ",-1),Oe=k({name:"CreateHolidayForm",props:{show:{type:Boolean,default:!0}},emits:["closeModal"],setup(t,{emit:c}){const n=U(),e=j({starting:"",type:{},ending:"",numberOfDays:"",returnDate:"",description:"",creationDate:""}),i=b(!1),y=C(()=>((x(e.ending).valueOf()-x(e.starting).valueOf())/864e5).toString()),h=C(()=>x(e.ending).add(1,"day").format("YYYY-MM-DD")),f=b(!1),q=C(()=>({starting:{required:D.withMessage("The starting date is required",_)},ending:{required:D.withMessage("The ending date is required",_)},type:{required:D.withMessage("The holiday type is required here",_)},description:{required:D.withMessage("The holiday description is required here",_)}})),g=Y(q,e),V=async()=>{await g.value.$validate()&&!i.value&&(F.value.push({type:e.type,starting:e.starting,ending:e.ending,description:e.description,numberOfDays:y.value,returnDate:h.value,creationDate:`${x().hour()}h${x().minute()}`}),localStorage.setItem("allHolidays",JSON.stringify(F.value)),f.value=!0,setTimeout(()=>{f.value=!1,Object.assign(e,{type:{},starting:"",ending:"",description:"",numberOfDays:"",returnDate:""}),g.value.$reset(),c("closeModal"),n.push("/holiday-list")},2e3))};return R(()=>[e.starting,e.ending],([u,l])=>{i.value=u>l&&l.length>0}),(u,l)=>t.show?(a(),o("div",$e,[s("form",ke,[s("span",{class:"flex p-2.5 h-3 w-3 rounded-full border-2 border-gray justify-center items-center font-bold text-gray absolute right-4 cursor-pointer",onClick:l[0]||(l[0]=r=>u.$emit("closeModal"))},"x"),Ve,s("div",De,[m(ye,{placeholder:"Choose your holiday Type",modelValue:d(e).type,"onUpdate:modelValue":l[1]||(l[1]=r=>d(e).type=r),label:"Type",options:d(ge),errors:d(g).type.$errors,class:"w-full md:w-8/12"},null,8,["modelValue","options","errors"]),m(I,{class:"w-5/12 grow md:w-3/12",labelValues:"Starting date",modelValue:d(e).starting,"onUpdate:modelValue":l[2]||(l[2]=r=>d(e).starting=r),errors:d(g).starting.$errors,"data-test":"starting-date"},null,8,["modelValue","errors"]),m(I,{class:"w-5/12 grow md:w-3/12",labelValues:"Ending date",modelValue:d(e).ending,"onUpdate:modelValue":l[3]||(l[3]=r=>d(e).ending=r),errors:d(g).ending.$errors,"data-test":"ending-date"},null,8,["modelValue","errors"]),i.value?(a(),o("span",_e,"The Ending Date most always be greater")):p("",!0),m(ae,{class:"w-5/12 grow md:w-3/12",modelValue:d(y),"onUpdate:modelValue":l[4]||(l[4]=r=>A(y)?y.value=r:null),"data-test":"numDays"},null,8,["modelValue"]),m(I,{class:"w-5/12 grow md:w-3/12",labelValues:"Return date",readonly:!0,modelValue:d(h),"onUpdate:modelValue":l[5]||(l[5]=r=>A(h)?h.value=r:null),"data-test":"return-date"},null,8,["modelValue"])]),m(P,{class:"my-2 md:my-3",modelValue:d(e).description,"onUpdate:modelValue":l[6]||(l[6]=r=>d(e).description=r),errors:d(g).description.$errors},null,8,["modelValue","errors"]),m(K,{onClick:W(V,["prevent"]),label:"SUBMIT",class:"bg-blue-100 my-6 h-12 mx-auto text-white font-bold rounded-md flex text-lg md:text-xl md:my-14","data-test":"submit-button"},null,8,["onClick"])]),m(H,null,{default:z(()=>[f.value?(a(),o("section",{key:0,class:v(["absolute w-full h-screen flex items-center justify-center bg-sky-100 bg-opacity-80 overscroll-none",f.value?"on":"off"])},[s("div",Ce,[Se,m(we,{class:"w-8 h-8"})])],2)):p("",!0)]),_:1})])):p("",!0)}});export{Oe as default};
